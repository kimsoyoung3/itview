<!DOCTYPE html>
<html lang="kr"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/mainlayout}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IT VIEW 관리자 페이지</title>
</head>
<body>
<main layout:fragment="content">
    <div class="container mt-3 mb-3">
        <div class="row">
            <div class="col-12 mx-auto" style="max-width: 600px;">
                <h3 class="mt-4">콘텐츠 조회</h3>
                <p class="mt-4">콘텐츠 정보</p>

                <div class="d-flex justify-content-center mb-4">
                    <div th:if="${contentDTO.poster}">
                        <img th:src="${contentDTO.poster}"
                             alt="콘텐츠 포스터"
                             style="max-width: 250px; height: auto; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
                    </div>
                    <div th:unless="${contentDTO.poster}">
                        <div style="width: 250px; height: 350px; background-color: #f0f0f0; display: flex; align-items: center; justify-content: center; border-radius: 8px; color: #888;">
                            포스터 이미지 없음
                        </div>
                    </div>
                </div>

                <div>
                    <div class="row mb-2">
                        <div class="col-3"><strong>제목</strong></div>
                        <div class="col" th:text="${contentDTO.title}"></div>
                    </div>
                    <div class="row mb-2">
                        <div class="col-3"><strong>콘텐츠 타입</strong></div>
                        <div class="col" th:text="${contentDTO.contentType?.description}"></div>
                    </div>
                    <div class="row mb-2">
                        <div class="col-3"><strong>공개일</strong></div>
                        <div class="col" th:text="${#temporals.format(contentDTO.releaseDate, 'yyyy-MM-dd')}"></div>
                    </div>
                    <div class="row mb-2">
                        <div class="col-3"><strong>국가</strong></div>
                        <div class="col" th:text="${contentDTO.nation}"></div>
                    </div>
                    <div class="row mb-2">
                        <div class="col-3"><strong>설명</strong></div>
                        <div class="col" th:utext="${#strings.replace(#strings.replace(#strings.replace(contentDTO.description, '&#13;&#10;', '&lt;br&gt;'), '&#10;', '&lt;br&gt;'), '&#13;', '&lt;br&gt;')}" ></div>
                    </div>
                    <div class="row mb-2">
                        <div class="col-3"><strong>이용가 제한</strong></div>
                        <div class="col" th:text="${contentDTO.age}"></div>
                    </div>
                    <div class="row mb-2">
                        <div class="col-3"><strong>분량</strong></div>
                        <div class="col" th:text="${contentDTO.duration}"></div>
                    </div>
                    <div class="row mb-2">
                        <div class="col-3"><strong>연재처</strong></div>
                        <div class="col" th:text="${contentDTO.channelName?.description}"></div>
                    </div>
                    <div class="row mb-2">
                        <div class="col-3">
                            <strong th:if="${contentDTO.contentType?.name() == 'MOVIE' or contentDTO.contentType?.name() == 'SERIES'}">감독 이름</strong>
                            <strong th:if="${contentDTO.contentType?.name() == 'BOOK' or contentDTO.contentType?.name() == 'WEBTOON'}">작가 이름</strong>
                            <strong th:if="${contentDTO.contentType?.name() == 'RECORD'}">아티스트 이름</strong>
                        </div>
                        <div class="col" th:text="${contentDTO.creatorName}"></div>
                    </div>
                </div>

                <div class="text-end mt-4">
                    <a th:href="@{/content/{id}/update(id=${contentDTO.id})}" class="btn btn-primary">수정</a>
                    <a th:href="@{/content/delete(id=${contentDTO.id})}"
                       class="btn btn-primary"
                       onclick="return confirm('정말 삭제하시겠습니까?');">삭제</a>
                    <a th:href="@{/content/list}" class="btn btn-primary">목록</a>
                </div>
            </div>
        </div>
    </div>
</main>
</body>
</html>